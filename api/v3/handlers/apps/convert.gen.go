// Code generated by github.com/jmattheis/goverter, DO NOT EDIT.
//go:build !goverter

package apps

import (
	"fmt"
	v3 "github.com/openmeterio/openmeter/api/v3"
	response "github.com/openmeterio/openmeter/api/v3/response"
	app "github.com/openmeterio/openmeter/openmeter/app"
)

func init() {
	ConvertAppTypeToV3Api = func(source app.AppType) (v3.BillingAppType, error) {
		var v3BillingAppType v3.BillingAppType
		switch source {
		case app.AppTypeCustomInvoicing:
			v3BillingAppType = v3.BillingAppTypeExternalInvoicing
		case app.AppTypeSandbox:
			v3BillingAppType = v3.BillingAppTypeSandbox
		case app.AppTypeStripe:
			v3BillingAppType = v3.BillingAppTypeStripe
		default:
			return v3BillingAppType, fmt.Errorf("unexpected enum element: %v", source)
		}
		return v3BillingAppType, nil
	}
	ConvertAppsToBillingApps = func(source []app.App) ([]v3.BillingApp, error) {
		var v3BillingAppList []v3.BillingApp
		if source != nil {
			v3BillingAppList = make([]v3.BillingApp, len(source))
			for i := 0; i < len(source); i++ {
				v3BillingApp, err := MapAppToAPI(source[i])
				if err != nil {
					return nil, err
				}
				v3BillingAppList[i] = v3BillingApp
			}
		}
		return v3BillingAppList, nil
	}
	ConvertMarketplaceListingToV3Api = func(source app.MarketplaceListing) (v3.BillingAppCatalogItem, error) {
		var v3BillingAppCatalogItem v3.BillingAppCatalogItem
		v3BillingAppCatalogItem.Description = source.Description
		v3BillingAppCatalogItem.Name = source.Name
		v3BillingAppType, err := ConvertAppTypeToV3Api(source.Type)
		if err != nil {
			return v3BillingAppCatalogItem, err
		}
		v3BillingAppCatalogItem.Type = v3BillingAppType
		return v3BillingAppCatalogItem, nil
	}
	ConvertToListAppResponse = func(source response.PagePaginationResponse[v3.BillingApp]) v3.AppPagePaginatedResponse {
		var v3AppPagePaginatedResponse v3.AppPagePaginatedResponse
		v3AppPagePaginatedResponse.Data = source.Data
		v3AppPagePaginatedResponse.Meta = responsePageMetaToV3PaginatedMeta(source.Meta)
		return v3AppPagePaginatedResponse
	}
}
func responsePageMetaPageToV3PageMeta(source response.PageMetaPage) v3.PageMeta {
	var v3PageMeta v3.PageMeta
	v3PageMeta.Number = IntToFloat32(source.Number)
	v3PageMeta.Size = IntToFloat32(source.Size)
	if source.Total != nil {
		v3PageMeta.Total = IntToFloat32(*source.Total)
	}
	return v3PageMeta
}
func responsePageMetaToV3PaginatedMeta(source response.PageMeta) v3.PaginatedMeta {
	var v3PaginatedMeta v3.PaginatedMeta
	v3PaginatedMeta.Page = responsePageMetaPageToV3PageMeta(source.Page)
	return v3PaginatedMeta
}
