// Code generated by github.com/jmattheis/goverter, DO NOT EDIT.
//go:build !goverter

package handlers

import (
	"fmt"
	nullable "github.com/oapi-codegen/nullable"
	v3 "github.com/openmeterio/openmeter/api/v3"
	response "github.com/openmeterio/openmeter/api/v3/response"
	customer "github.com/openmeterio/openmeter/openmeter/customer"
	meter "github.com/openmeterio/openmeter/openmeter/meter"
	currencyx "github.com/openmeterio/openmeter/pkg/currencyx"
	models "github.com/openmeterio/openmeter/pkg/models"
	"time"
)

func init() {
	ConvertCreateCustomerRequestToCustomerMutate = func(source v3.CreateCustomerRequest) customer.CustomerMutate {
		var customerCustomerMutate customer.CustomerMutate
		pString := source.Key
		customerCustomerMutate.Key = &pString
		customerCustomerMutate.Name = source.Name
		customerCustomerMutate.Description = source.Description
		customerCustomerMutate.UsageAttribution = pV3BillingCustomerUsageAttributionToCustomerCustomerUsageAttribution(source.UsageAttribution)
		customerCustomerMutate.PrimaryEmail = source.PrimaryEmail
		if source.Currency != nil {
			currencyxCode := currencyx.Code(*source.Currency)
			customerCustomerMutate.Currency = &currencyxCode
		}
		customerCustomerMutate.BillingAddress = pV3BillingAddressToPModelsAddress(source.BillingAddress)
		customerCustomerMutate.Metadata = pV3LabelsToPModelsMetadata(source.Labels)
		return customerCustomerMutate
	}
	ConvertCustomerListResponse = func(source response.CursorPaginationResponse[customer.Customer]) v3.CustomerPaginatedResponse {
		var v3CustomerPaginatedResponse v3.CustomerPaginatedResponse
		if source.Data != nil {
			v3CustomerPaginatedResponse.Data = make([]v3.BillingCustomer, len(source.Data))
			for i := 0; i < len(source.Data); i++ {
				v3CustomerPaginatedResponse.Data[i] = ConvertCustomerRequestToBillingCustomer(source.Data[i])
			}
		}
		v3CustomerPaginatedResponse.Meta = responseCursorMetaToV3CursorMeta(source.Meta)
		return v3CustomerPaginatedResponse
	}
	ConvertCustomerRequestToBillingCustomer = func(source customer.Customer) v3.BillingCustomer {
		var v3BillingCustomer v3.BillingCustomer
		v3BillingCustomer.BillingAddress = pModelsAddressToPV3BillingAddress(source.BillingAddress)
		v3BillingCustomer.CreatedAt = timeTimeToPTimeTime(source.ManagedResource.ManagedModel.CreatedAt)
		if source.Currency != nil {
			xstring := string(*source.Currency)
			v3BillingCustomer.Currency = &xstring
		}
		v3BillingCustomer.DeletedAt = source.ManagedResource.ManagedModel.DeletedAt
		v3BillingCustomer.Description = source.ManagedResource.Description
		v3BillingCustomer.Id = source.ManagedResource.ID
		if source.Key != nil {
			v3BillingCustomer.Key = *source.Key
		}
		v3BillingCustomer.Labels = pModelsMetadataToPV3Labels(source.Metadata)
		v3BillingCustomer.Name = source.ManagedResource.Name
		v3BillingCustomer.PrimaryEmail = source.PrimaryEmail
		v3BillingCustomer.UpdatedAt = timeTimeToPTimeTime(source.ManagedResource.ManagedModel.UpdatedAt)
		v3BillingCustomer.UsageAttribution = customerCustomerUsageAttributionToPV3BillingCustomerUsageAttribution(source.UsageAttribution)
		return v3BillingCustomer
	}
	ConvertFromCreateCustomerRequestToCreateCustomerInput = func(context string, source v3.CreateCustomerRequest) customer.CreateCustomerInput {
		var customerCreateCustomerInput customer.CreateCustomerInput
		customerCreateCustomerInput.Namespace = NamespaceFromContext(context)
		customerCreateCustomerInput.CustomerMutate = ConvertCreateCustomerRequestToCustomerMutate(source)
		return customerCreateCustomerInput
	}
	ConvertMeter = func(source meter.Meter) (v3.Meter, error) {
		var v3Meter v3.Meter
		v3MeterAggregation, err := ConvertMeterAggregation(source.Aggregation)
		if err != nil {
			return v3Meter, err
		}
		v3Meter.Aggregation = v3MeterAggregation
		v3Meter.CreatedAt = timeTimeToPTimeTime(source.ManagedResource.ManagedModel.CreatedAt)
		v3Meter.DeletedAt = source.ManagedResource.ManagedModel.DeletedAt
		v3Meter.Description = source.ManagedResource.Description
		v3Meter.Dimensions = &source.GroupBy
		v3Meter.EventFrom = source.EventFrom
		v3Meter.EventTypeFilter = source.EventType
		v3Meter.Id = source.ManagedResource.ID
		v3Meter.Key = source.Key
		v3Meter.Labels = modelsMetadataToPV3Labels(source.Metadata)
		v3Meter.Name = source.ManagedResource.Name
		v3Meter.UpdatedAt = timeTimeToPTimeTime(source.ManagedResource.ManagedModel.UpdatedAt)
		v3Meter.ValueProperty = source.ValueProperty
		return v3Meter, nil
	}
	ConvertMeterAggregation = func(source meter.MeterAggregation) (v3.MeterAggregation, error) {
		var v3MeterAggregation v3.MeterAggregation
		switch source {
		case meter.MeterAggregationAvg:
			v3MeterAggregation = v3.MeterAggregationAvg
		case meter.MeterAggregationCount:
			v3MeterAggregation = v3.MeterAggregationCount
		case meter.MeterAggregationLatest:
			v3MeterAggregation = v3.MeterAggregationLatest
		case meter.MeterAggregationMax:
			v3MeterAggregation = v3.MeterAggregationMax
		case meter.MeterAggregationMin:
			v3MeterAggregation = v3.MeterAggregationMin
		case meter.MeterAggregationSum:
			v3MeterAggregation = v3.MeterAggregationSum
		case meter.MeterAggregationUniqueCount:
			v3MeterAggregation = v3.MeterAggregationUniqueCount
		default:
			return v3MeterAggregation, fmt.Errorf("unexpected enum element: %v", source)
		}
		return v3MeterAggregation, nil
	}
	ConvertMeterListResponse = func(source response.CursorPaginationResponse[meter.Meter]) (v3.MeterPaginatedResponse, error) {
		var v3MeterPaginatedResponse v3.MeterPaginatedResponse
		if source.Data != nil {
			v3MeterPaginatedResponse.Data = make([]v3.Meter, len(source.Data))
			for i := 0; i < len(source.Data); i++ {
				v3Meter, err := ConvertMeter(source.Data[i])
				if err != nil {
					return v3MeterPaginatedResponse, err
				}
				v3MeterPaginatedResponse.Data[i] = v3Meter
			}
		}
		v3MeterPaginatedResponse.Meta = responseCursorMetaToV3CursorMeta(source.Meta)
		return v3MeterPaginatedResponse, nil
	}
	ConvertUpdateCustomerRequestToCustomerMutate = func(source v3.UpdateCustomerRequest) customer.CustomerMutate {
		var customerCustomerMutate customer.CustomerMutate
		if source.Name != nil {
			customerCustomerMutate.Name = *source.Name
		}
		customerCustomerMutate.Description = source.Description
		customerCustomerMutate.UsageAttribution = pV3BillingCustomerUsageAttributionToCustomerCustomerUsageAttribution(source.UsageAttribution)
		customerCustomerMutate.PrimaryEmail = source.PrimaryEmail
		if source.Currency != nil {
			currencyxCode := currencyx.Code(*source.Currency)
			customerCustomerMutate.Currency = &currencyxCode
		}
		customerCustomerMutate.BillingAddress = pV3BillingAddressToPModelsAddress(source.BillingAddress)
		customerCustomerMutate.Metadata = pV3LabelsToPModelsMetadata(source.Labels)
		return customerCustomerMutate
	}
}
func customerCustomerUsageAttributionToPV3BillingCustomerUsageAttribution(source customer.CustomerUsageAttribution) *v3.BillingCustomerUsageAttribution {
	var v3BillingCustomerUsageAttribution v3.BillingCustomerUsageAttribution
	v3BillingCustomerUsageAttribution.SubjectKeys = source.SubjectKeys
	return &v3BillingCustomerUsageAttribution
}
func modelsMetadataToPV3Labels(source models.Metadata) *v3.Labels {
	v3Labels := modelsMetadataToV3Labels(source)
	return &v3Labels
}
func modelsMetadataToV3Labels(source models.Metadata) v3.Labels {
	var v3Labels v3.Labels
	if source != nil {
		v3Labels = make(v3.Labels, len(source))
		for key, value := range source {
			v3Labels[key] = value
		}
	}
	return v3Labels
}
func nullableNullableToNullableNullable(source nullable.Nullable[string]) nullable.Nullable[string] {
	return source
}
func pModelsAddressToPV3BillingAddress(source *models.Address) *v3.BillingAddress {
	var pV3BillingAddress *v3.BillingAddress
	if source != nil {
		var v3BillingAddress v3.BillingAddress
		v3BillingAddress.City = (*source).City
		if (*source).Country != nil {
			xstring := string(*(*source).Country)
			v3BillingAddress.Country = &xstring
		}
		v3BillingAddress.Line1 = (*source).Line1
		v3BillingAddress.Line2 = (*source).Line2
		v3BillingAddress.PhoneNumber = (*source).PhoneNumber
		v3BillingAddress.PostalCode = (*source).PostalCode
		v3BillingAddress.State = (*source).State
		pV3BillingAddress = &v3BillingAddress
	}
	return pV3BillingAddress
}
func pModelsMetadataToPV3Labels(source *models.Metadata) *v3.Labels {
	var pV3Labels *v3.Labels
	if source != nil {
		v3Labels := modelsMetadataToV3Labels((*source))
		pV3Labels = &v3Labels
	}
	return pV3Labels
}
func pV3BillingAddressToPModelsAddress(source *v3.BillingAddress) *models.Address {
	var pModelsAddress *models.Address
	if source != nil {
		var modelsAddress models.Address
		if (*source).Country != nil {
			modelsCountryCode := models.CountryCode(*(*source).Country)
			modelsAddress.Country = &modelsCountryCode
		}
		modelsAddress.PostalCode = (*source).PostalCode
		modelsAddress.State = (*source).State
		modelsAddress.City = (*source).City
		modelsAddress.Line1 = (*source).Line1
		modelsAddress.Line2 = (*source).Line2
		modelsAddress.PhoneNumber = (*source).PhoneNumber
		pModelsAddress = &modelsAddress
	}
	return pModelsAddress
}
func pV3BillingCustomerUsageAttributionToCustomerCustomerUsageAttribution(source *v3.BillingCustomerUsageAttribution) customer.CustomerUsageAttribution {
	var customerCustomerUsageAttribution customer.CustomerUsageAttribution
	if source != nil {
		customerCustomerUsageAttribution.SubjectKeys = (*source).SubjectKeys
	}
	return customerCustomerUsageAttribution
}
func pV3LabelsToPModelsMetadata(source *v3.Labels) *models.Metadata {
	var pModelsMetadata *models.Metadata
	if source != nil {
		modelsMetadata := v3LabelsToModelsMetadata((*source))
		pModelsMetadata = &modelsMetadata
	}
	return pModelsMetadata
}
func responseCursorMetaPageToV3CursorMetaPage(source response.CursorMetaPage) v3.CursorMetaPage {
	var v3CursorMetaPage v3.CursorMetaPage
	v3CursorMetaPage.First = source.First
	v3CursorMetaPage.Last = source.Last
	v3CursorMetaPage.Next = nullableNullableToNullableNullable(source.Next)
	v3CursorMetaPage.Previous = nullableNullableToNullableNullable(source.Previous)
	v3CursorMetaPage.Size = source.Size
	return v3CursorMetaPage
}
func responseCursorMetaToV3CursorMeta(source response.CursorMeta) v3.CursorMeta {
	var v3CursorMeta v3.CursorMeta
	v3CursorMeta.Page = responseCursorMetaPageToV3CursorMetaPage(source.Page)
	return v3CursorMeta
}
func timeTimeToPTimeTime(source time.Time) *time.Time {
	return &source
}
func v3LabelsToModelsMetadata(source v3.Labels) models.Metadata {
	var modelsMetadata models.Metadata
	if source != nil {
		modelsMetadata = make(models.Metadata, len(source))
		for key, value := range source {
			modelsMetadata[key] = value
		}
	}
	return modelsMetadata
}
