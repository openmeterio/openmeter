// Code generated by github.com/jmattheis/goverter, DO NOT EDIT.
//go:build !goverter

package billingprofiles

import (
	"fmt"
	v3 "github.com/openmeterio/openmeter/api/v3"
	app "github.com/openmeterio/openmeter/openmeter/app"
	billing "github.com/openmeterio/openmeter/openmeter/billing"
	productcatalog "github.com/openmeterio/openmeter/openmeter/productcatalog"
	models "github.com/openmeterio/openmeter/pkg/models"
	"time"
)

func init() {
	ConvertAPIAddressToAddress = func(source v3.Address) models.Address {
		var modelsAddress models.Address
		if source.Country != nil {
			modelsCountryCode := models.CountryCode(*source.Country)
			modelsAddress.Country = &modelsCountryCode
		}
		modelsAddress.PostalCode = source.PostalCode
		modelsAddress.State = source.State
		modelsAddress.City = source.City
		modelsAddress.Line1 = source.Line1
		modelsAddress.Line2 = source.Line2
		modelsAddress.PhoneNumber = source.PhoneNumber
		return modelsAddress
	}
	ConvertAddressToAPIAddress = func(source models.Address) v3.Address {
		var v3Address v3.Address
		v3Address.City = source.City
		if source.Country != nil {
			xstring := string(*source.Country)
			v3Address.Country = &xstring
		}
		v3Address.Line1 = source.Line1
		v3Address.Line2 = source.Line2
		v3Address.PhoneNumber = source.PhoneNumber
		v3Address.PostalCode = source.PostalCode
		v3Address.State = source.State
		return v3Address
	}
	ConvertAppIDToBillingAppReference = func(source app.AppID) v3.BillingAppReference {
		var v3BillingAppReference v3.BillingAppReference
		v3BillingAppReference.Id = source.ID
		return v3BillingAppReference
	}
	ConvertBillingAppReferenceToAppID = func(context string, source v3.BillingAppReference) app.AppID {
		var appAppID app.AppID
		appAppID.Namespace = NamespaceFromContext(context)
		appAppID.ID = source.Id
		return appAppID
	}
	ConvertBillingProfileAppReferencesToProfileAppReferences = func(context string, source v3.BillingProfileAppReferences) billing.ProfileAppReferences {
		var billingProfileAppReferences billing.ProfileAppReferences
		billingProfileAppReferences.Tax = ConvertBillingAppReferenceToAppID(context, source.Tax)
		billingProfileAppReferences.Invoicing = ConvertBillingAppReferenceToAppID(context, source.Invoicing)
		billingProfileAppReferences.Payment = ConvertBillingAppReferenceToAppID(context, source.Payment)
		return billingProfileAppReferences
	}
	ConvertBillingTaxBehaviorToTaxBehavior = func(source productcatalog.TaxBehavior) (v3.BillingTaxBehavior, error) {
		var v3BillingTaxBehavior v3.BillingTaxBehavior
		switch source {
		case productcatalog.ExclusiveTaxBehavior:
			v3BillingTaxBehavior = v3.BillingTaxBehaviorExclusive
		case productcatalog.InclusiveTaxBehavior:
			v3BillingTaxBehavior = v3.BillingTaxBehaviorInclusive
		default:
			return v3BillingTaxBehavior, fmt.Errorf("unexpected enum element: %v", source)
		}
		return v3BillingTaxBehavior, nil
	}
	ConvertBillingTaxConfigToTaxConfig = func(source *v3.BillingTaxConfig) (*productcatalog.TaxConfig, error) {
		var pProductcatalogTaxConfig *productcatalog.TaxConfig
		if source != nil {
			var productcatalogTaxConfig productcatalog.TaxConfig
			if (*source).Behavior != nil {
				productcatalogTaxBehavior, err := ConvertTaxBehaviorBillingToTaxBehavior(*(*source).Behavior)
				if err != nil {
					return nil, err
				}
				productcatalogTaxConfig.Behavior = &productcatalogTaxBehavior
			}
			productcatalogTaxConfig.Stripe = pV3BillingTaxConfigStripeToPProductcatalogStripeTaxConfig((*source).Stripe)
			pProductcatalogTaxConfig = &productcatalogTaxConfig
		}
		return pProductcatalogTaxConfig, nil
	}
	ConvertCreateBillingProfileRequestToCreateProfileInput = func(context string, source v3.CreateBillingProfileRequest) (billing.CreateProfileInput, error) {
		var billingCreateProfileInput billing.CreateProfileInput
		billingCreateProfileInput.Namespace = NamespaceFromContext(context)
		billingCreateProfileInput.Name = source.Name
		billingCreateProfileInput.Description = source.Description
		billingCreateProfileInput.Metadata = pV3LabelsToMapStringString(source.Labels)
		billingCreateProfileInput.Supplier = ConvertBillingPartyToSupplierContact(source.Supplier)
		billingCreateProfileInput.Default = source.Default
		billingWorkflowConfig, err := ConvertBillingWorkflowToWorkflowConfig(source.Workflow)
		if err != nil {
			return billingCreateProfileInput, err
		}
		billingCreateProfileInput.WorkflowConfig = billingWorkflowConfig
		billingCreateProfileInput.Apps = ConvertBillingProfileAppReferencesToProfileAppReferences(context, source.Apps)
		return billingCreateProfileInput, nil
	}
	ConvertProfileAppReferencesToBillingProfileAppReferences = func(source *billing.ProfileAppReferences) v3.BillingProfileAppReferences {
		var v3BillingProfileAppReferences v3.BillingProfileAppReferences
		if source != nil {
			v3BillingProfileAppReferences.Invoicing = ConvertAppIDToBillingAppReference((*source).Invoicing)
			v3BillingProfileAppReferences.Payment = ConvertAppIDToBillingAppReference((*source).Payment)
			v3BillingProfileAppReferences.Tax = ConvertAppIDToBillingAppReference((*source).Tax)
		}
		return v3BillingProfileAppReferences
	}
	ConvertProfileToBillingProfile = func(source billing.Profile) (v3.BillingProfile, error) {
		var v3BillingProfile v3.BillingProfile
		v3BillingProfile.Apps = pBillingProfileAppsToV3BillingProfileAppReferences(source.Apps)
		v3BillingProfile.CreatedAt = timeTimeToPTimeTime(source.BaseProfile.CreatedAt)
		v3BillingProfile.Default = source.BaseProfile.Default
		v3BillingProfile.DeletedAt = source.BaseProfile.DeletedAt
		v3BillingProfile.Description = source.BaseProfile.Description
		v3BillingProfile.Id = source.BaseProfile.ID
		v3BillingProfile.Labels = billingMetadataToPV3Labels(source.BaseProfile.Metadata)
		v3BillingProfile.Name = source.BaseProfile.Name
		v3BillingProfile.Supplier = ConvertSupplierContactToBillingParty(source.BaseProfile.Supplier)
		v3BillingProfile.UpdatedAt = timeTimeToPTimeTime(source.BaseProfile.UpdatedAt)
		v3BillingWorkflow, err := ConvertWorkflowConfigToBillingWorkflow(source.BaseProfile.WorkflowConfig)
		if err != nil {
			return v3BillingProfile, err
		}
		v3BillingProfile.Workflow = v3BillingWorkflow
		return v3BillingProfile, nil
	}
	ConvertProfilesToBillingProfiles = func(source []billing.Profile) ([]v3.BillingProfile, error) {
		var v3BillingProfileList []v3.BillingProfile
		if source != nil {
			v3BillingProfileList = make([]v3.BillingProfile, len(source))
			for i := 0; i < len(source); i++ {
				v3BillingProfile, err := ConvertProfileToBillingProfile(source[i])
				if err != nil {
					return nil, err
				}
				v3BillingProfileList[i] = v3BillingProfile
			}
		}
		return v3BillingProfileList, nil
	}
	ConvertTaxBehaviorBillingToTaxBehavior = func(source v3.BillingTaxBehavior) (productcatalog.TaxBehavior, error) {
		var productcatalogTaxBehavior productcatalog.TaxBehavior
		switch source {
		case v3.BillingTaxBehaviorExclusive:
			productcatalogTaxBehavior = productcatalog.ExclusiveTaxBehavior
		case v3.BillingTaxBehaviorInclusive:
			productcatalogTaxBehavior = productcatalog.InclusiveTaxBehavior
		default:
			return productcatalogTaxBehavior, fmt.Errorf("unexpected enum element: %v", source)
		}
		return productcatalogTaxBehavior, nil
	}
	ConvertTaxConfigToBillingTaxConfig = func(source *productcatalog.TaxConfig) (*v3.BillingTaxConfig, error) {
		var pV3BillingTaxConfig *v3.BillingTaxConfig
		if source != nil {
			var v3BillingTaxConfig v3.BillingTaxConfig
			if (*source).Behavior != nil {
				v3BillingTaxBehavior, err := ConvertBillingTaxBehaviorToTaxBehavior(*(*source).Behavior)
				if err != nil {
					return nil, err
				}
				v3BillingTaxConfig.Behavior = &v3BillingTaxBehavior
			}
			v3BillingTaxConfig.ExternalInvoicing = pProductcatalogStripeTaxConfigToPV3BillingTaxConfigExternalInvoicing((*source).Stripe)
			v3BillingTaxConfig.Stripe = pProductcatalogStripeTaxConfigToPV3BillingTaxConfigStripe((*source).Stripe)
			pV3BillingTaxConfig = &v3BillingTaxConfig
		}
		return pV3BillingTaxConfig, nil
	}
	ConvertUpsertBillingProfileRequestToUpdateProfileInput = func(context models.NamespacedID, source v3.UpsertBillingProfileRequest) (billing.UpdateProfileInput, error) {
		var billingUpdateProfileInput billing.UpdateProfileInput
		billingUpdateProfileInput.ID = ResolveIDFromContext(context)
		billingUpdateProfileInput.Namespace = ResolveNamespaceFromContext(context)
		billingUpdateProfileInput.Name = source.Name
		billingUpdateProfileInput.Description = source.Description
		billingWorkflowConfig, err := ConvertBillingWorkflowToWorkflowConfig(source.Workflow)
		if err != nil {
			return billingUpdateProfileInput, err
		}
		billingUpdateProfileInput.WorkflowConfig = billingWorkflowConfig
		billingUpdateProfileInput.Supplier = ConvertBillingPartyToSupplierContact(source.Supplier)
		billingUpdateProfileInput.Default = source.Default
		billingUpdateProfileInput.Metadata = pV3LabelsToBillingMetadata(source.Labels)
		return billingUpdateProfileInput, nil
	}
}
func billingMetadataToPV3Labels(source billing.Metadata) *v3.Labels {
	v3Labels := billingMetadataToV3Labels(source)
	return &v3Labels
}
func billingMetadataToV3Labels(source billing.Metadata) v3.Labels {
	var v3Labels v3.Labels
	if source != nil {
		v3Labels = make(v3.Labels, len(source))
		for key, value := range source {
			v3Labels[key] = value
		}
	}
	return v3Labels
}
func pBillingProfileAppsToV3BillingProfileAppReferences(source *billing.ProfileApps) v3.BillingProfileAppReferences {
	var v3BillingProfileAppReferences v3.BillingProfileAppReferences
	if source != nil {
		v3BillingProfileAppReferences.Invoicing = ConvertAppToBillingAppReference((*source).Invoicing)
		v3BillingProfileAppReferences.Payment = ConvertAppToBillingAppReference((*source).Payment)
		v3BillingProfileAppReferences.Tax = ConvertAppToBillingAppReference((*source).Tax)
	}
	return v3BillingProfileAppReferences
}
func pProductcatalogStripeTaxConfigToPV3BillingTaxConfigExternalInvoicing(source *productcatalog.StripeTaxConfig) *v3.BillingTaxConfigExternalInvoicing {
	var pV3BillingTaxConfigExternalInvoicing *v3.BillingTaxConfigExternalInvoicing
	if source != nil {
		var v3BillingTaxConfigExternalInvoicing v3.BillingTaxConfigExternalInvoicing
		v3BillingTaxConfigExternalInvoicing.Code = (*source).Code
		pV3BillingTaxConfigExternalInvoicing = &v3BillingTaxConfigExternalInvoicing
	}
	return pV3BillingTaxConfigExternalInvoicing
}
func pProductcatalogStripeTaxConfigToPV3BillingTaxConfigStripe(source *productcatalog.StripeTaxConfig) *v3.BillingTaxConfigStripe {
	var pV3BillingTaxConfigStripe *v3.BillingTaxConfigStripe
	if source != nil {
		var v3BillingTaxConfigStripe v3.BillingTaxConfigStripe
		v3BillingTaxConfigStripe.Code = (*source).Code
		pV3BillingTaxConfigStripe = &v3BillingTaxConfigStripe
	}
	return pV3BillingTaxConfigStripe
}
func pV3BillingTaxConfigStripeToPProductcatalogStripeTaxConfig(source *v3.BillingTaxConfigStripe) *productcatalog.StripeTaxConfig {
	var pProductcatalogStripeTaxConfig *productcatalog.StripeTaxConfig
	if source != nil {
		var productcatalogStripeTaxConfig productcatalog.StripeTaxConfig
		productcatalogStripeTaxConfig.Code = (*source).Code
		pProductcatalogStripeTaxConfig = &productcatalogStripeTaxConfig
	}
	return pProductcatalogStripeTaxConfig
}
func pV3LabelsToBillingMetadata(source *v3.Labels) billing.Metadata {
	return billing.Metadata(pV3LabelsToMapStringString(source))
}
func pV3LabelsToMapStringString(source *v3.Labels) map[string]string {
	var mapStringString map[string]string
	if source != nil {
		mapStringString = v3LabelsToMapStringString((*source))
	}
	return mapStringString
}
func timeTimeToPTimeTime(source time.Time) *time.Time {
	return &source
}
func v3LabelsToMapStringString(source v3.Labels) map[string]string {
	var mapStringString map[string]string
	if source != nil {
		mapStringString = make(map[string]string, len(source))
		for key, value := range source {
			mapStringString[key] = value
		}
	}
	return mapStringString
}
